<mat-card class="mat-elevation-z10">
  <mat-card-header>
    <mat-card-title>
      <h1>{{ 'PRODUCT.CREATE_TITLE' | translate }}</h1>
    </mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <form (ngSubmit)="createProduct()" [formGroup]="productForm" fxLayout="row wrap" fxLayoutAlign="start">
      <mat-form-field fxFlex="70%">
        <mat-label>{{ 'PRODUCT.NAME' | translate }}</mat-label>
        <input matInput [placeholder]="'PRODUCT.NAME' | translate" formControlName="productName" />
        <mat-error *ngIf="productForm.get('productName')?.hasError('required')">{{ 'PRODUCT.NAME' | translate }} {{
          'PRODUCT.NAME_REQUIRED' | translate }}</mat-error>
      </mat-form-field>

      <mat-form-field fxFlex="70%">
        <mat-label>{{ 'PRODUCT.PRICE' | translate }}</mat-label>
        <input matInput type="number" inputmode="decimal" min="0" step="0.01" formControlName="price"
          [placeholder]="'PRODUCT.PRICE' | translate" />
        <mat-error *ngIf="productForm.get('price')?.hasError('required')">
          {{ 'PRODUCT.PRICE' | translate }} {{ 'COMMON.REQUIRED' | translate }}
        </mat-error>
        <mat-error *ngIf="productForm.get('price')?.hasError('min')">
          {{ 'PRODUCT.PRICE_MIN' | translate: { value: 0 } }}
        </mat-error>
        <mat-error *ngIf="productForm.get('price')?.hasError('pattern')">
          {{ 'PRODUCT.PRICE_INVALID' | translate }}
        </mat-error>
      </mat-form-field>


      <mat-form-field fxFlex="70%">
        <mat-label>{{ 'PRODUCT.TYPE' | translate }}</mat-label>
        <mat-select formControlName="productTypeId" name="productTypeId">
          <mat-option *ngFor="let productType of productTypes" [value]="productType.product_type_id">{{
            productType.description }}</mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field fxFlex="70%">
        <mat-label>{{ 'PRODUCT.DESCRIPTION' | translate }}</mat-label>
        <textarea matInput [placeholder]="'PRODUCT.DESCRIPTION' | translate" formControlName="description"
          name="description"></textarea>
      </mat-form-field>

      <div fxFlex="100%" fxLayoutAlign="start">
        <button mat-raised-button type="submit" color="primary" class="me-4" [disabled]="isLoading">
          <span *ngIf="!isLoading">{{ 'PRODUCT.SUBMIT' | translate }}</span>
          <mat-spinner *ngIf="isLoading" diameter="20"></mat-spinner>
        </button>
      </div>
    </form>
  </mat-card-content>
</mat-card>